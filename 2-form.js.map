{"version":3,"file":"2-form.js","sources":["../src/js/utils/refs.js","../src/js/utils/variables.js","../src/js/utils/localStorage.js","../src/js/utils/checkBtnDisabled.js","../src/js/2-form.js"],"sourcesContent":["export default {\n  form: document.querySelector('.feedback-form'),\n  btn: document.querySelector('.feedback-form button'),\n};\n","export const STORAGE_KEY = 'feedback-form-state';\nexport const store = { email: '', message: '' };\n","export function saveLS(key, value) {\n  try {\n    const serialisedState = JSON.stringify(value);\n    localStorage.setItem(key, serialisedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function loadLS(key) {\n  try {\n    const serialisedState = localStorage.getItem(key);\n    return serialisedState === null ? undefined : JSON.parse(serialisedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","import refs from './refs';\n\nexport function checkBtnDisabled(data) {\n  if (data === undefined) {\n    return;\n  }\n\n  const { email, message } = data;\n\n  email === '' ? (refs.btn.disabled = true) : (refs.btn.disabled = false);\n  message === '' ? (refs.btn.disabled = true) : (refs.btn.disabled = false);\n}\n","import refs from './utils/refs';\nimport { STORAGE_KEY, store } from './utils/variables';\nimport { saveLS, loadLS } from './utils/localStorage';\nimport { checkBtnDisabled } from './utils/checkBtnDisabled';\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n\nconst dataLS = loadLS(STORAGE_KEY);\ncheckBtnDisabled(dataLS);\n\nif (dataLS !== undefined) {\n  store.email = dataLS.email || '';\n  store.message = dataLS.message || '';\n  refs.form.elements.email.value = store.email;\n  refs.form.elements.message.value = store.message;\n}\n\nfunction onFormInput(event) {\n  const { name, value } = event.target;\n  if (name !== 'email' && name !== 'message') return;\n\n  store[name] = value.trim();\n  saveLS(STORAGE_KEY, store);\n  checkBtnDisabled(store);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const { email, message } = store;\n  if (email === '' || message === '') {\n    alert('Please fill in all the fields!');\n    return;\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  console.log(store);\n  store.email = '';\n  store.message = '';\n  checkBtnDisabled(store);\n  refs.form.reset();\n}\n"],"names":["refs","STORAGE_KEY","store","saveLS","key","value","serialisedState","error","loadLS","checkBtnDisabled","data","email","message","onFormInput","onFormSubmit","dataLS","event","name"],"mappings":"wFAAA,MAAeA,EAAA,CACb,KAAM,SAAS,cAAc,gBAAgB,EAC7C,IAAK,SAAS,cAAc,uBAAuB,CACrD,ECHaC,EAAc,sBACdC,EAAQ,CAAE,MAAO,GAAI,QAAS,EAAI,ECDxC,SAASC,EAAOC,EAAKC,EAAO,CACjC,GAAI,CACF,MAAMC,EAAkB,KAAK,UAAUD,CAAK,EAC5C,aAAa,QAAQD,EAAKE,CAAe,CAC1C,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,SAASC,EAAOJ,EAAK,CAC1B,GAAI,CACF,MAAME,EAAkB,aAAa,QAAQF,CAAG,EAChD,OAAOE,IAAoB,KAAO,OAAY,KAAK,MAAMA,CAAe,CACzE,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CCdO,SAASE,EAAiBC,EAAM,CACrC,GAAIA,IAAS,OACX,OAGF,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGF,EAE3BC,IAAU,GAAMX,EAAK,IAAI,SAAW,GAASA,EAAK,IAAI,SAAW,GACjEY,IAAY,GAAMZ,EAAK,IAAI,SAAW,GAASA,EAAK,IAAI,SAAW,EACrE,CCNAA,EAAK,KAAK,iBAAiB,QAASa,CAAW,EAC/Cb,EAAK,KAAK,iBAAiB,SAAUc,CAAY,EAEjD,MAAMC,EAASP,EAAOP,CAAW,EACjCQ,EAAiBM,CAAM,EAEnBA,IAAW,SACbb,EAAM,MAAQa,EAAO,OAAS,GAC9Bb,EAAM,QAAUa,EAAO,SAAW,GAClCf,EAAK,KAAK,SAAS,MAAM,MAAQE,EAAM,MACvCF,EAAK,KAAK,SAAS,QAAQ,MAAQE,EAAM,SAG3C,SAASW,EAAYG,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAZ,GAAUW,EAAM,OAC1BC,IAAS,SAAWA,IAAS,YAEjCf,EAAMe,CAAI,EAAIZ,EAAM,KAAI,EACxBF,EAAOF,EAAaC,CAAK,EACzBO,EAAiBP,CAAK,EACxB,CAEA,SAASY,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAL,EAAO,QAAAC,CAAS,EAAGV,EAC3B,GAAIS,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,gCAAgC,EACtC,MACD,CAED,aAAa,WAAWX,CAAW,EACnC,QAAQ,IAAIC,CAAK,EACjBA,EAAM,MAAQ,GACdA,EAAM,QAAU,GAChBO,EAAiBP,CAAK,EACtBF,EAAK,KAAK,OACZ"}