{"version":3,"file":"2-form.js","sources":["../src/js/utils/localStorage.js","../src/js/utils/normalizeForm.js","../src/js/utils/variables.js","../src/js/utils/refs.js","../src/js/utils/checkBtnDisabled.js","../src/js/components/inputForm.js","../src/js/components/submitForm.js","../src/js/render/form.js","../src/js/utils/init.js","../src/js/2-form.js"],"sourcesContent":["export function saveLS(key, value) {\n  try {\n    const serialisedState = JSON.stringify(value);\n    localStorage.setItem(key, serialisedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function loadLS(key) {\n  try {\n    const serialisedState = localStorage.getItem(key);\n    return serialisedState === null ? undefined : JSON.parse(serialisedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","export function normalizeData(data) {\n  data.email = data.email.trim();\n  data.message = data.message.trim();\n  return data;\n}\n","export const STORAGE_KEY = 'feedback-form-state';\n","export default {\n  form: document.querySelector('.feedback-form'),\n  btn: document.querySelector('.feedback-form button'),\n};\n","import refs from './refs';\n\nexport function checkBtnDisabled(data) {\n  if (data.email !== '' && data.message !== '') {\n    refs.btn.disabled = false;\n  } else {\n    refs.btn.disabled = true;\n  }\n}\n","import { saveLS } from '../utils/localStorage';\nimport { normalizeData } from '../utils/normalizeForm';\nimport { STORAGE_KEY } from '../utils/variables';\nimport refs from '../utils/refs';\nimport { checkBtnDisabled } from '../utils/checkBtnDisabled';\n\nexport function onFormInput(event) {\n  event.preventDefault();\n\n  const formData = new FormData(refs.form);\n  const data = Object.fromEntries(formData);\n  const normalizedData = normalizeData(data);\n\n  saveLS(STORAGE_KEY, normalizedData);\n  checkBtnDisabled(normalizedData);\n}\n","import { normalizeData } from '../utils/normalizeForm';\nimport { STORAGE_KEY } from '../utils/variables';\nimport refs from '../utils/refs';\n\nexport function onFormSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(refs.form);\n  const data = Object.fromEntries(formData);\n  const normalizedData = normalizeData(data);\n  const { email, message } = normalizedData;\n  if (email === '' || message === '') {\n    alert('Please fill in all the fields!');\n    return;\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  refs.btn.disabled = true;\n  console.log(normalizedData);\n  refs.form.reset();\n}\n","import { loadLS } from '../utils/localStorage';\nimport { STORAGE_KEY } from '../utils/variables';\nimport refs from '../utils/refs';\nimport { checkBtnDisabled } from '../utils/checkBtnDisabled';\n\nexport function renderForm() {\n  const savedData = loadLS(STORAGE_KEY);\n\n  if (savedData === undefined) {\n    return false; // Це для майбутнього масштабування\n  }\n  checkBtnDisabled(savedData);\n  refs.form.elements.email.value = savedData?.email || '';\n  refs.form.elements.message.value = savedData?.message || '';\n  return true; // Це для майбутнього масштабування\n}\n","import { onFormInput } from '../components/inputForm';\nimport { onFormSubmit } from '../components/submitForm';\nimport refs from './refs';\nimport { renderForm } from '../render/form';\n\nexport function init() {\n  refs.form.addEventListener('input', onFormInput);\n  refs.form.addEventListener('submit', onFormSubmit);\n\n  renderForm();\n}\n","import { init } from './utils/init';\n\ninit();\n"],"names":["saveLS","key","value","serialisedState","error","loadLS","normalizeData","data","STORAGE_KEY","refs","checkBtnDisabled","onFormInput","event","formData","normalizedData","onFormSubmit","email","message","renderForm","savedData","init"],"mappings":"wFAAO,SAASA,EAAOC,EAAKC,EAAO,CACjC,GAAI,CACF,MAAMC,EAAkB,KAAK,UAAUD,CAAK,EAC5C,aAAa,QAAQD,EAAKE,CAAe,CAC1C,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,SAASC,EAAOJ,EAAK,CAC1B,GAAI,CACF,MAAME,EAAkB,aAAa,QAAQF,CAAG,EAChD,OAAOE,IAAoB,KAAO,OAAY,KAAK,MAAMA,CAAe,CACzE,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CChBO,SAASE,EAAcC,EAAM,CAClC,OAAAA,EAAK,MAAQA,EAAK,MAAM,KAAI,EAC5BA,EAAK,QAAUA,EAAK,QAAQ,KAAI,EACzBA,CACT,CCJO,MAAMC,EAAc,sBCAZC,EAAA,CACb,KAAM,SAAS,cAAc,gBAAgB,EAC7C,IAAK,SAAS,cAAc,uBAAuB,CACrD,ECDO,SAASC,EAAiBH,EAAM,CACjCA,EAAK,QAAU,IAAMA,EAAK,UAAY,GACxCE,EAAK,IAAI,SAAW,GAEpBA,EAAK,IAAI,SAAW,EAExB,CCFO,SAASE,EAAYC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASJ,EAAK,IAAI,EACjCF,EAAO,OAAO,YAAYM,CAAQ,EAClCC,EAAiBR,EAAcC,CAAI,EAEzCP,EAAOQ,EAAaM,CAAc,EAClCJ,EAAiBI,CAAc,CACjC,CCXO,SAASC,EAAaH,EAAO,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASJ,EAAK,IAAI,EACjCF,EAAO,OAAO,YAAYM,CAAQ,EAClCC,EAAiBR,EAAcC,CAAI,EACnC,CAAE,MAAAS,EAAO,QAAAC,CAAS,EAAGH,EAC3B,GAAIE,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,gCAAgC,EACtC,MACD,CAED,aAAa,WAAWT,CAAW,EACnCC,EAAK,IAAI,SAAW,GACpB,QAAQ,IAAIK,CAAc,EAC1BL,EAAK,KAAK,OACZ,CCfO,SAASS,GAAa,CAC3B,MAAMC,EAAYd,EAAOG,CAAW,EAEpC,OAAIW,IAAc,OACT,IAETT,EAAiBS,CAAS,EAC1BV,EAAK,KAAK,SAAS,MAAM,OAAQU,GAAA,YAAAA,EAAW,QAAS,GACrDV,EAAK,KAAK,SAAS,QAAQ,OAAQU,GAAA,YAAAA,EAAW,UAAW,GAClD,GACT,CCVO,SAASC,GAAO,CACrBX,EAAK,KAAK,iBAAiB,QAASE,CAAW,EAC/CF,EAAK,KAAK,iBAAiB,SAAUM,CAAY,EAEjDG,GACF,CCRAE,EAAM"}